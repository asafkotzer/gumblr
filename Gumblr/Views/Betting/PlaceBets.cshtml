@model Gumblr.Models.BettingModel

@{
    ViewBag.Title = "GUMBLR | Place your bets";
}

@section ViewHeader {
    @Scripts.Render("~/Scripts/GameBet/PlaceBetsViewModel.js")
    @Scripts.Render("~/Scripts/GameBet/PlaceBets.js")
    @Scripts.Render("~/Scripts/moment.js")
    @Styles.Render("~/Content/themes/default/placebets.css")

    <script>
        $(document).ready(function () {
            var model = @Html.Raw(Json.Encode(Model));
            var placeBets = new PlaceBets(model);
            placeBets.init();
        });
    </script>
}

<ul data-bind="foreach: games" class="BetList">
    <li>
        <div class="MatchFrame">
            <p class="MatchTitle">
                <span class="TeamName" data-bind="text: match.Host"></span>
                vs.
                <span class="TeamName" data-bind="text: match.Visitor"></span>
            </p>
            <p class="MatchSubtitle">
                <span data-bind="text: match.Venue"></span>
            </p>
            <p class="MatchSubtitle">
                <span data-bind="text: moment(match.StartTime).format('MMMM Do YYYY, h:mm:ss a')"></span>
            </p>
            <div>
                <div class="LogoContainer">
                    <input class="Logo Host" type="image" data-bind="attr:{src: match.HostLogoUrl}, click: selected, css: { 'Selected': match.ExpectedResult() == 0 }" />
                    <img src="/Images/UpArrow.png" class="SelectionMarker" />
                </div>
                <div class="LogoContainer">
                    <input class="Logo" type="image" data-bind="click: selected, css: { 'Selected': match.ExpectedResult() == 1, 'Draw': match.ExpectedResult() != 1 }" src="/Images/Draw.png" />
                    <img src="/Images/UpArrow.png" class="SelectionMarker" />
                </div>
                <div class="LogoContainer">
                    <input class="Logo Visitor" type="image" data-bind="attr:{src: match.VisitorLogoUrl}, click: selected, css: { 'Selected': match.ExpectedResult() == 2 }" />
                    <img src="/Images/UpArrow.png" class="SelectionMarker" />
                </div>
            </div>
        </div>


    </li>
</ul>
<div class="StatusLine">
    <p class="StatusText">
        <span data-bind="text: statusLine"></span>
        <a data-bind="click: uploadBets">submit</a>
    </p>
</div>
